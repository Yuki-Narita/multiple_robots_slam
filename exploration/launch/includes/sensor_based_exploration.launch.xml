<launch>
    <arg name="robot_name"/>
    <arg name="pose"/>
    <arg name="velocity"/>
    <arg name="scan"/>
    <arg name="bumper_continuity"/>
    <arg name="map_frame_id"/>
    <arg name="map_topic"/>
    <arg name="branch_frame_id"/>
    <arg name="rotation"/>
    <arg name="fill"/>

    <node pkg="exploration" type="sensor_based_exploration" name="sensor_based_exploration" output="screen">
        <remap unless="$(arg fill)" from="map" to="$(arg map_topic)"/>
        <remap if="$(arg fill)" from="map" to="fill_map"/>
        <remap from="scan" to="$(arg scan)"/>
        <remap unless="$(arg debug)" from="velocity" to="$(arg velocity)"/>
        <remap from="pose" to="$(arg pose)"/>
        <remap from="pose_log" to="pose_log/local"/>
        <remap from="bumper" to="$(arg bumper_continuity)"/>
        <param name="map_frame_id" value="$(arg map_frame_id)"/>
        <param name="branch_frame_id" value="$(arg branch_frame_id)"/>
        <param name="movebase_name" value="/$(arg robot_name)/move_base"/>
        <param name="debug" value="$(arg debug)"/>
        <param name="color_cluster" value="true"/>
        <param name="min_cluster_size" value="30"/>
        <param name="seamless_hybrid" value="false"/>
        <param name="filter_square_diameter" value="0.75"/>
        <param name="rotation" value="$(arg rotation)"/>
        <param name="center_range_min" value="2.5"/>
        <param name="newer_duplication_threshold" value="100"/>
        <rosparam file="$(find exploration)/param/path_planner_params.yaml" command="load"/>
        <param name="global_costmap/global_frame" value="$(arg map_frame_id)"/>
        <param name="global_costmap/robot_base_frame" value="$(arg robot_name)/base_footprint"/>
        <param name="robot_name" value="$(arg robot_name)"/>
        <param name="angle_bias" value="60"/>
    </node>
</launch>
